<html type="{{viewTypeToken}}"
    {{#isChannelView}}
        channelname="{{channelName}}"
    {{/isChannelView}}

    {{#isPrivateMessageView}}
        channelname="{{channelName}}"
    {{/isPrivateMessageView}}

	{{#isUtilityView}}
		channelname="{{channelName}}"
	{{/isUtilityView}}

	{{! The operating system version declaration allows CSS selectors to target specific versions. }}
	systemversion="{{operatingSystemVersion}}"

    dir="{{textDirectionToken}}">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset={{userConfiguredTextEncoding}}">

    <link rel="stylesheet" type="text/css" href="{{activeStyleAbsolutePath}}/design.css?{{cacheToken}}" charset="UTF-8">

	<link rel="stylesheet" type="text/css" href="{{applicationTemplatesPath}}/baseLayout.css?{{cacheToken}}" charset="UTF-8">

    <link rel="stylesheet" href="{{activeStyleAbsolutePath}}/colors.css?{{cacheToken}}" charset="UTF-8">

	<script src="{{applicationResourcePath}}/JavaScript/API/core.js" type="text/javascript" charset="UTF-8"></script>
	<script src="{{applicationResourcePath}}/JavaScript/API/corePrivate.js" type="text/javascript" charset="UTF-8"></script>

	<script type="text/javascript">
		Textual.initializeCore("{{applicationResourcePath}}");
	</script>
	<script src="{{activeStyleAbsolutePath}}/scripts.js?{{cacheToken}}" type="text/javascript" charset="UTF-8"></script>
    <style type="text/css">
        html, body, body[type], body {
            font-family: '{{userConfiguredFontName}}';
            font-size: {{userConfiguredFontSize}}pt;
        }

        {{#nicknameIndentationAvailable}}
			
            body .time {
                width: {{predefinedTimestampWidth}}px;
            }
        {{/nicknameIndentationAvailable}}

        {{#windowAntialiasingDisabled}}
            body {
                -webkit-font-smoothing: none;
            }
        {{/windowAntialiasingDisabled}}
    </style>
</head>
<body type="{{viewTypeToken}}"
    onload="Textual.viewBodyDidLoadInt()"
	{{#isChannelView}}
        channelname="{{channelName}}"
    {{/isChannelView}}

    {{#isPrivateMessageView}}
        channelname="{{channelName}}"
    {{/isPrivateMessageView}}

	{{#isUtilityView}}
		channelname="{{channelName}}"
	{{/isUtilityView}}

	{{#usesCustomScrollers}}
	customscroller="true"
	{{/usesCustomScrollers}}
	
	dir="{{textDirectionToken}}">
		{{! The elements "body_home," "message_buffer", "loading_screen," 
		"topic_bar," and "mark" must always remain the same as the ID value 
		of these elements are used internally by Textual. }}

		<div id="loading_screen">Loading&hellip;</div>
		
		{{#isChannelView}}
		    <div id="topic_bar" ondblclick="Textual.topicBarDoubleClicked()">(No Topic)</div>
		{{/isChannelView}}

		<div id="body_home">
			<div id="message_buffer"></div>
		</div>
		<a name="most_recent_anchor" id="most_recent_anchor" href="#most_recent_anchor"></a>
</body>
</html>
